{{template "base" .}}

{{define "title"}}Wiki Pages{{end}}

{{define "content"}}
    <nav>
        <h3>Categories</h3>
        <ul>
            {{range $node := .CategoryTree}}
            <li>
                <a href="/category/{{$node.Parent.Name}}">{{$node.Parent.Name}}</a>
                {{if $node.Children}}
                <ul>
                    {{range $node.Children}}
                    <li><a href="/category/{{$node.Parent.Name}}/{{.Name}}">{{.Name}}</a></li>
                    {{end}}
                </ul>
                {{end}}
            </li>
            {{end}}
        </ul>
    </nav>
    <hr>
    <h2>All Pages</h2>
    <table>
        <thead>
            <tr>
                <th>Title</th>
            </tr>
        </thead>
        <tbody>
            {{range .Pages}}
            <tr>
                <td><a href="/view/{{.Title}}">{{.Title}}</a></td>
            </tr>
            {{end}}
        </tbody>
    </table>
{{end}}
